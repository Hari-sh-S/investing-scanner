name: Keep Streamlit App Alive

on:
  schedule:
    # Runs every 15 minutes (more aggressive to prevent sleeping)
    - cron: '*/15 * * * *'
  workflow_dispatch:  # Allows manual trigger from GitHub Actions UI

jobs:
  ping:
    runs-on: ubuntu-latest
    steps:
      - name: Ping Streamlit App
        run: |
          echo "Pinging Streamlit app to keep it alive (every 15 mins)..."
          # -L follows redirects, -s silent, -w output status code
          # Change this URL if your app URL is different
          curl -L -s -o /dev/null -w "%{http_code}" https://investing-scanner.streamlit.app || true
          echo ""
          echo "Ping completed at $(date)"
